<div id="widget-weather" class="h-80 p-5 bg-mil-card shiny-border" hx-get="/api/widgets/weather{% if lat and lon %}?lat={{ lat }}&lon={{ lon }}{% endif %}" hx-trigger="every 600s" hx-swap="outerHTML">
  {% if weather %}
    <div class="flex items-start justify-between">
      <div>
        <p class="text-[10px] font-mono font-bold text-mil-muted uppercase tracking-widest">WEATHER</p>
        <p class="text-xs font-mono text-mil-text mt-1 uppercase">{{ weather.city }}</p>
      </div>
      <i class="fa-solid {{ weather.icon }} text-2xl text-mil-accent"></i>
    </div>
    <div class="mt-3">
      <span class="text-4xl font-mono font-bold text-mil-text">{{ weather.temp_c }}<span class="text-xl text-mil-muted">&deg;C</span></span>
    </div>
    <p class="text-xs font-mono text-mil-muted mt-1 uppercase">{{ weather.condition }}</p>
    <div class="mt-3 flex gap-4 text-[10px] font-mono text-mil-muted uppercase">
      <span><i class="fa-solid fa-droplet text-mil-accent mr-1"></i>{{ weather.humidity }}%</span>
      <span><i class="fa-solid fa-wind text-mil-accent mr-1"></i>{{ weather.wind_mph }} MPH</span>
    </div>
  {% else %}
    <div class="h-full flex flex-col items-center justify-center">
      <i class="fa-solid fa-cloud text-2xl text-mil-muted/30 mb-2"></i>
      <p class="text-[10px] font-mono text-mil-muted uppercase tracking-wider">DATA UNAVAILABLE</p>
    </div>
  {% endif %}
</div>
