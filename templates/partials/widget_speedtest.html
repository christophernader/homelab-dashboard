{% if speedtest %}
<div class="shiny-border p-4">
  <div class="flex items-center justify-between mb-4">
    <div class="flex items-center gap-2">
      <i class="fa-solid fa-gauge-high text-mil-accent"></i>
      <span class="text-[10px] font-mono uppercase tracking-wider text-mil-muted">Speedtest</span>
    </div>
    <span class="text-[9px] font-mono uppercase px-2 py-0.5 {% if speedtest.status == 'connected' %}bg-mil-success/20 text-mil-success{% else %}bg-mil-error/20 text-mil-error{% endif %}">
      {{ speedtest.status | upper }}
    </span>
  </div>

  {% if speedtest.error %}
  <p class="text-xs text-mil-error">{{ speedtest.error }}</p>
  {% else %}
  <div class="grid grid-cols-3 gap-4">
    <div class="text-center">
      <p class="text-2xl font-mono text-mil-success">{{ speedtest.download_mbps }}</p>
      <p class="text-[9px] font-mono uppercase text-mil-muted">↓ Mbps</p>
    </div>
    <div class="text-center">
      <p class="text-2xl font-mono text-mil-accent">{{ speedtest.upload_mbps }}</p>
      <p class="text-[9px] font-mono uppercase text-mil-muted">↑ Mbps</p>
    </div>
    <div class="text-center">
      <p class="text-2xl font-mono text-mil-text">{{ speedtest.ping_ms }}</p>
      <p class="text-[9px] font-mono uppercase text-mil-muted">Ping ms</p>
    </div>
  </div>

  <div class="mt-4 pt-4 border-t border-mil-border text-[9px] font-mono text-mil-muted">
    <div class="flex justify-between">
      <span>{{ speedtest.server }}</span>
      <span>{{ speedtest.isp }}</span>
    </div>
  </div>
  {% endif %}
</div>
{% endif %}
